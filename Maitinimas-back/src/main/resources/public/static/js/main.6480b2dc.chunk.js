/*! For license information please see main.6480b2dc.chunk.js.LICENSE.txt */
(this["webpackJsonptomas-maitinimas"]=this["webpackJsonptomas-maitinimas"]||[]).push([[0],{19:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/maist2.abb58702.png"},37:function(e,t,a){e.exports=a.p+"static/media/defaultImg.b3c8d977.jpg"},51:function(e,t,a){e.exports=a.p+"static/media/loader.467d937a.svg"},54:function(e,t,a){e.exports=a(94)},62:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(48),o=a.n(i),l=a(9),c=a(4),s=a(100),u=(a(62),a(5)),m=a(1),d=r.a.createContext(null),p=r.a.createContext(null),f="/Maitinimas",h=a(21),g=a(3),v=a.n(g);function y(){y=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(L){l=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new O(n||[]);return i._invoke=function(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return k()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=N(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}(e,a,o),i}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var u={};function m(){}function d(){}function p(){}var f={};l(f,r,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,r)&&(f=g);var v=p.prototype=m.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(m).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,l(v,"constructor",p),l(p,"constructor",d),d.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new E(c(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(v),l(v,o,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),j(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;j(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var b=function(e){var t=e.children,a=Object(c.g)(),n=r.a.useContext(d).dispatch;return r.a.useMemo((function(){v.a.interceptors.response.use((function(e){return e}),function(){var e=Object(h.a)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.response&&t.response.status>=400&&t.response.status<500){e.next=6;break}alert("\u012evyko klaida, puslapis nurodytu adresu nepasiekiamas"),n({type:"ERROR",payload:null}),e.next=17;break;case 6:if(401!==t.response.status){e.next=11;break}alert("Neprisijungta"),n({type:"ERROR",payload:t.response.status}),e.next=17;break;case 11:if(403!==t.response.status){e.next=16;break}alert("Prieiga u\u017edrausta"),n({type:"ERROR",payload:t.response.status}),e.next=17;break;case 16:return e.abrupt("return",Promise.reject(t));case 17:a.push("/");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n,a]),t},E=a(11),N=(a(19),a(27)),w=a.n(N);function j(){j=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(L){l=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new O(n||[]);return i._invoke=function(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return k()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}(e,a,o),i}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=c;var u={};function m(){}function d(){}function p(){}var f={};l(f,r,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(x([])));g&&g!==t&&a.call(g,r)&&(f=g);var v=p.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(m).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function x(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,l(v,"constructor",p),l(p,"constructor",d),d.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(c(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,o,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:x(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}v.a.defaults.withCredentials=!0;var O=function(){var e=r.a.useState({username:"",password:"",loginError:!1,loggingIn:!1}),t=Object(u.a)(e,2),a=t[0],n=t[1],i=r.a.useContext(d).dispatch,o=Object(c.g)(),l=v.a.create();l.interceptors.response.use((function(e){return e}),function(){var e=Object(h.a)(j().mark((function e(t){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.response&&t.response.status>=400&&t.response.status<500?t.response&&(401===t.response.status?n(Object(m.a)(Object(m.a)({},a),{},{loginError:!0,loggingIn:!1,username:"",password:""})):403===t.response.status&&(alert("Prieiga u\u017edrausta"),n(Object(m.a)(Object(m.a)({},a),{},{loginError:!1,loggingIn:!1,username:"",password:""})))):(alert("\u012evyko klaida, puslapis nurodytu adresu nepasiekiamas"),i({type:"ERROR",payload:null}),n(Object(m.a)(Object(m.a)({},a),{},{loginError:!1,loggingIn:!1,username:"",password:""})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var s=function(e){p(e),n(Object(m.a)(Object(m.a)({},a),{},Object(E.a)({loginError:!1},e.target.name,e.target.value)))},p=function(e){var t=e.target;t.validity.valueMissing&&"username"===t.id?t.setCustomValidity("B\u016btina \u012fvesti naudotojo prisijungimo vard\u0105"):t.validity.valueMissing&&"password"===t.id?t.setCustomValidity("B\u016btina \u012fvesti slapta\u017eod\u012f"):t.setCustomValidity("")};return r.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center min-vh-100"},r.a.createElement("div",{className:"card p-5",style:{width:"30%"}},r.a.createElement("img",{src:w.a,alt:"Maisto u\u017esakymo i\u0161 maitinimo \u012fstaig\u0173 informacin\u0117 sistema",className:"img-flex mb-3"}),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n(Object(m.a)(Object(m.a)({},a),{},{loginError:!1,loggingIn:!0}));var t=new URLSearchParams;t.append("username",a.username),t.append("password",a.password),l.post("".concat(f,"/login"),t,{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){i({type:"LOGIN",payload:e.data}),o.push("/home")})).catch((function(){}))}},r.a.createElement("h3",null,"Prisijungti"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username",className:"mb-2"},"Naudotojo vardas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("input",{type:"text",className:"form-control",name:"username",id:"username",value:a.username,onChange:s,onInvalid:p,required:!0,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite naudotojo prisijungimo vard\u0105"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password",className:"mt-3 mb-2"},"Slapta\u017eodis ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("input",{type:"password",className:"form-control",name:"password",id:"password",value:a.password,onChange:s,onInvalid:p,required:!0,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite naudotojo slapta\u017eod\u012f"})),r.a.createElement("button",{type:"submit",className:"btn btn-primary float-end mt-3",id:"btnLogin",disabled:a.loggingIn},a.loggingIn?"Jungiamasi...":"Prisijungti")),a.loginError&&r.a.createElement("span",{className:"alert alert-danger mt-3",role:"alert",id:"incorrectLoginData"},"Neteisingas prisijungimo vardas ir/arba slapta\u017eodis!")))},x=a(14),k=a(15),L=a(17),C=a(16);var S=function(e){var t=e.target;t.validity.valueMissing?t.setCustomValidity(t.placeholder+" yra privalomas laukelis"):"email"===t.name?t.validity.patternMismatch?t.setCustomValidity("Neteisingas el. pa\u0161to formatas"):t.setCustomValidity(""):"txtPassword"===t.id||"txtNewPassword"===t.id||"txtNewPasswordRepeat"===t.id?t.validity.patternMismatch?t.setCustomValidity("Slapta\u017eodis turi b\u016bti ne ma\u017eiau 8 simboli\u0173 ilgio, tur\u0117ti bent vien\u0105 did\u017ei\u0105j\u0105 ir ma\u017e\u0105j\u0105 raides ir bent vien\u0105 skai\u010di\u0173."):t.setCustomValidity(""):"txtUsername"===t.id?t.validity.patternMismatch?t.setCustomValidity("Vartotojo vardas turi b\u016bti 6-30 simboli\u0173 ilgio, tur\u0117ti raidinius ir skaitinius simbolius, br\u016bk\u0161nius ir pabraukimus. Pirmasis simbolis - raidinis."):t.setCustomValidity(""):"txtOldPassword"===t.id&&t.setCustomValidity("")},P=function(e,t,a){switch(e.target.name){case"username":return e.target.validity.patternMismatch?(t.username=!1,a.username="Neteisingas vartotojo vardo formatas"):(t.username=!0,a.username=""),t.username;case"password":return e.target.validity.patternMismatch?(t.password=!1,a.password="Neteisingas slapta\u017eod\u017eio formatas"):(t.password=!0,a.password=""),t.password;case"email":return e.target.validity.patternMismatch?(t.email=!1,a.email="Neteisingas el. pa\u0161to formatas"):(t.email=!0,a.email=""),t.email;default:return t(Object(m.a)(Object(m.a)({},t),{},Object(E.a)({},e.target.name,!0)))}},_=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).infoValid={username:!0,password:!0,email:!0},n.infoWarning={username:"",password:"",email:""},n.resetState=function(){n.setState({username:"",password:"",email:""}),n.infoValid={username:!0,password:!0,email:!0},n.infoWarning={username:"",password:"",email:""}},n.handleSubmit=function(e){e.preventDefault(),v.a.post("".concat(f,"/api/users/admin/createuser"),{role:n.state.role,email:n.state.email,username:n.state.username,password:n.state.password}).then((function(e){console.log(e),201===e.status&&n.props.history.push("/")})).catch((function(e){console.log(e.data),alert({text:e.data})}))},n.state={role:"ADMIN",username:"",password:"",email:""},n}return Object(k.a)(a,[{key:"checkSubmit",value:function(){return!0}},{key:"roleDropdownOnChange",value:function(e){e.preventDefault(),this.setState({role:e.target.value}),this.resetState()}},{key:"handleChange",value:function(e){var t=e.target;P(e,this.infoValid,this.infoWarning),S(e),this.setState(Object(E.a)({},t.name,t.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"form"},r.a.createElement("h6",{className:"py-3"},r.a.createElement("b",null,"Naujo naudotojo suk\u016brimas")),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group mt-2 mb-3"},r.a.createElement("label",{htmlFor:"role-selector",className:"mb-2"},"Naudotojo rol\u0117:"),r.a.createElement("select",{name:"role-selector",id:"selRole",className:"form-control",value:this.state.role,onChange:function(t){return e.roleDropdownOnChange(t)}},r.a.createElement("option",{value:"ADMIN"},"Administratorius"),r.a.createElement("option",{value:"USER"},"Klientas"))),r.a.createElement("div",{className:"form-group mb-3"},r.a.createElement("label",{htmlFor:"txtEmail",className:"mb-2"},"El. pa\u0161tas"),r.a.createElement("input",{type:"text",className:"form-control",id:"txtEmail",name:"email",value:this.state.email,style:this.infoValid.email?{border:"1px solid lightgray"}:{border:"2px solid red"},onChange:function(t){return e.handleChange(t)},onInvalid:function(e){return S(e)},pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}",maxLength:128}),r.a.createElement("span",{className:"adm_warningmsg"},this.infoWarning.email),r.a.createElement("div",{className:"form-group mt-2"},r.a.createElement("label",{htmlFor:"txtUsername",className:"mb-2"},"Naudotojo vardas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("input",{type:"text",className:"form-control",id:"txtUsername",name:"username",value:this.state.username,style:this.infoValid.username?{border:"1px solid lightgray"}:{border:"2px solid red"},onChange:function(t){return e.handleChange(t)},onInvalid:function(e){return S(e)},required:!0,pattern:"^[A-Za-z0-9\\-_]{5,29}$",maxLength:30}),r.a.createElement("span",{className:"adm_warningmsg"},this.infoWarning.username)),r.a.createElement("div",{className:"form-group mt-2"},r.a.createElement("label",{htmlFor:"txtPassword",className:"mb-2"},"Slapta\u017eodis ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("input",{type:"text",className:"form-control",id:"txtPassword",name:"password",value:this.state.password,style:this.infoValid.password?{border:"1px solid lightgray"}:{border:"2px solid red"},onChange:function(t){return e.handleChange(t)},onInvalid:function(e){return S(e)},required:!0,pattern:"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$"}),r.a.createElement("span",{className:"adm_warningmsg"},this.infoWarning.password))),r.a.createElement("h6",{className:"py-3"},r.a.createElement("b",null,"Naudotojo prisijungimai")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,r.a.createElement("b",null,"Naudotojo vardas"))),r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,this.state.username))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,r.a.createElement("b",null,"Slapta\u017eodis"))),r.a.createElement("div",{className:"col-12"},r.a.createElement("p",null,this.state.password))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("button",{className:"btn btn-outline-danger col-3 ms-3",onClick:this.resetState,id:"btnClean"},"I\u0161valyti"),r.a.createElement("button",{type:"submit",className:"btn btn-primary col-3 me-3",id:"btnCreate",disabled:!(this.state.username.length>0&&this.infoValid.username&&this.state.password.length>0&&this.infoValid.password)},"Sukurti"))))}}]),a}(n.Component),I=Object(c.i)(_),F=a(8),A=a(6),R=a(50),M=a.n(R),V=function(e){var t=e.itemsCount,a=e.pageSize,i=e.currentPage,o=e.onPageChange,l=Math.ceil(t/a),c=Object(n.useState)([]),s=Object(u.a)(c,2),m=s[0],d=s[1],p=Object(n.useState)(1),f=Object(u.a)(p,2),h=f[0],g=f[1];if(Object(n.useEffect)((function(){d(M.a.range(2,l))}),[l]),1===l||0===l)return null;var v=function(e){o(e-1)};return l>6?r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return v(i)},disabled:1===i},"<")),r.a.createElement("li",{className:1===i?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return o(1)}},"1")),i>6?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link nohoverbtn",disabled:!0},"<...>")):r.a.createElement(r.a.Fragment,null),m.filter((function(e){return e-i<5&&e-i>-5})).map((function(e){return r.a.createElement("li",{key:e,className:e===i?"page-item active":"page-item"},r.a.createElement("button",{onClick:function(){return o(e)},className:"page-link"},e))})),i<l-6?r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link nohoverbtn",disabled:!0},"<...>")):r.a.createElement(r.a.Fragment,null),r.a.createElement("li",{className:Number(l)===i?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return o(l)}},l)),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return function(e){e===l&&(e=l-1),o(e+1)}(i)},disabled:i===l},">")),r.a.createElement("li",{className:"page-item"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"}),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"page-link paginationPageInputBox",placeholder:"#",maxLength:3,value:isNaN(h)?g(1):h,onChange:function(e){return g(Number(e.target.value))},onKeyPress:function(e){return function(e){"Enter"===e.key&&Number(e.target.value)<=l?o(Number(e.target.value)):"Enter"===e.key&&Number(e.target.value)>l&&(g(l),o(l))}(e)}})))),r.a.createElement("li",null,r.a.createElement("div",{className:"col page-link",onClick:function(){h<=l?o(h):h>l&&(g(l),o(l))}},r.a.createElement(F.a,{icon:A.b})))))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return v(i)},disabled:1===i},"<")),r.a.createElement("li",{className:1===i?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return o(1)}},"1")),m.map((function(e){return r.a.createElement("li",{key:e,className:e===i?"page-item active":"page-item"},r.a.createElement("button",{onClick:function(){return o(e)},className:"page-link"},e))})),r.a.createElement("li",{className:Number(l)===i?"page-item active":"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return o(l)}},l)),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{className:"page-link",onClick:function(){return o(i+1)},disabled:i===l},">")))))},G=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.columns;if(t)return r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.id},a.map((function(t){return r.a.createElement("td",{key:e.id+t.key},t.content(e))})))})))}}]),a}(n.Component),U=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("thead",{className:""},r.a.createElement("tr",null,this.props.columns.map((function(e){return r.a.createElement("th",{key:e.key,id:e.key,scope:"col"},e.label)}))))}}]),a}(n.Component),T=function(e){var t=e.columns,a=e.data;return r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table"},r.a.createElement(U,{columns:t}),r.a.createElement(G,{columns:t,data:a})))},D=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){var e;Object(x.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).columns=[{key:"username",path:"username",label:"Naudotojo vardas",content:function(e){return r.a.createElement("span",null,e.username)}},{key:"role",path:"role",label:"Naudotojo rol\u0117",content:function(e){return r.a.createElement("span",null,"ADMIN"===e.role?"Administratorius":"Klientas")}},{key:"delete",label:"I\u0161trinti naudotoj\u0105",content:function(t){return r.a.createElement("div",{className:"d-grid"},r.a.createElement("button",{onClick:function(){return e.props.onDelete(t)},id:"btnDeleteUser",className:"btn btn-outline-danger btn-sm"},"I\u0161trinti"))}}],e}return Object(k.a)(a,[{key:"render",value:function(){var e=this.props.naudotojai;return r.a.createElement(T,{columns:this.columns,data:e})}}]),a}(n.Component),z=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){var t=e.username,a=n.state,r=a.currentPage,i=1===a.numberOfElements?r-1:r;v.a.delete("".concat(f,"/api/users/admin/delete/").concat(t)).then((function(e){console.log(e.data[0]),n.getUserInfo(i)})).catch((function(){}))},n.handlePageChange=function(e){n.setState({currentPage:e}),n.getUserInfo(e)},n.state={naudotojai:[],pageSize:10,currentPage:1,totalPages:0,totalElements:0,numberOfElements:0},n}return Object(k.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo(this.state.currentPage)}},{key:"getUserInfo",value:function(e){var t=this,a=this.state.pageSize,n=e-1;n<0&&(n=0);var r="".concat(f,"/api/users/admin/allusers?page=").concat(n,"&size=").concat(a);v.a.get(r).then((function(e){t.setState({naudotojai:t.mapToViewModel(e.data.content),totalPages:e.data.totalPages,totalElements:e.data.totalElements,numberOfElements:e.data.numberOfElements,currentPage:e.data.number+1})})).catch((function(){}))}},{key:"mapToViewModel",value:function(e){return e.map((function(e){return{id:e.userId,username:e.username,role:e.role}}))}},{key:"render",value:function(){var e=this.state.naudotojai,t=0;if(void 0!==e&&(t=e.length),0===t)return r.a.createElement("div",{className:"container pt-5"},r.a.createElement("h6",{className:"pt-5"},"Naudotoj\u0173 s\u0105ra\u0161as tu\u0161\u010dias."));var a=this.state.totalPages;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{naudotojai:e,onDelete:this.handleDelete}),a>1&&r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(V,{itemClass:"page-item",linkClass:"page-link",currentPage:this.state.currentPage,pageSize:this.state.pageSize,itemsCount:this.state.totalElements,pageRangeDisplayed:15,onPageChange:this.handlePageChange.bind(this)})))}}]),a}(n.Component),q=function(e){Object(L.a)(a,e);var t=Object(C.a)(a);function a(){return Object(x.a)(this,a),t.apply(this,arguments)}return Object(k.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container pt-4"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"bg-light pb-3 col-12 col-sm-12 col-md-12 col-lg-3"},r.a.createElement(I,null)),r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-9 pt-1"},r.a.createElement(z,null)))))}}]),a}(n.Component),B=a(20),Y=a(51),$=a.n(Y);function W(){W=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new j(n||[]);return i._invoke=function(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return x()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}(e,a,o),i}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var u={};function m(){}function d(){}function p(){}var f={};l(f,r,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&a.call(g,r)&&(f=g);var v=p.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(m).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,l(v,"constructor",p),l(p,"constructor",d),d.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(c(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,o,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:O(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var J=function(){var e=Object(n.useState)({id:"",name:"",address:"",image:"",file:""}),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(null),l=Object(u.a)(o,2),c=l[0],s=l[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),g=p[0],y=p[1],b=Object(n.useState)(null),N=Object(u.a)(b,2),w=N[0],j=N[1],O=Object(n.useState)({id:!0,name:!0,address:!0,image:!0}),x=Object(u.a)(O,2),k=x[0],L=x[1],C=Object(n.useState)({disk:!1,linkUrl:!1}),S=Object(u.a)(C,2),P=S[0],_=S[1],I=function(e){M(e),i(Object(m.a)(Object(m.a)({},a),{},Object(E.a)({},e.target.name,e.target.value)))},R=function(){var e=Object(h.a)(W().mark((function e(t){var n,r,o,l,c;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(Object(m.a)(Object(m.a)({},a),{},Object(E.a)({},t.target.name,t.target.value))),!0!==M(t)){e.next=33;break}return r=new Headers,o={method:"GET",headers:r,mode:"cors",cache:"default"},e.prev=5,"",l="".concat("https://thawing-basin-02600.herokuapp.com/"+t.target.value),e.next=10,fetch(l,o);case 10:n=e.sent,e.next=19;break;case 13:return e.prev=13,e.t0=e.catch(5),y(!1),console.log("Error response: "+n.status),console.error("URL fetch error: \n",e.t0),e.abrupt("return",null);case 19:if(n.ok){e.next=23;break}console.error("NOT OK: ",n.status),e.next=31;break;case 23:if(!n.ok){e.next=31;break}return console.log("Response status: ",n.status),e.next=27,n.blob();case 27:c=e.sent,y(!0),console.log("duomenys: ",c),j(c);case 31:e.next=35;break;case 33:y(!1),console.error("Netinkamas URL. Validacija gr\u0105\u017eino FALSE");case 35:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){var t=e.target;if(!t.validity.valueMissing)return t.validity.patternMismatch?("id_name"===t.id?(t.setCustomValidity("Pavadinimas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu"),L(Object(m.a)(Object(m.a)({},k),{},{name:!1}))):"id_id"===t.id?(t.setCustomValidity("\u012estaigos kod\u0105 sudaro 9 skaitmenys"),L(Object(m.a)(Object(m.a)({},k),{},{id:!1}))):"id_address"===t.id?(t.setCustomValidity("Adresas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu"),L(Object(m.a)(Object(m.a)({},k),{},{address:!1}))):"imageUrl"===t.id&&(t.setCustomValidity("Netinkamas URL formatas. Turi prasid\u0117ti 'https://', o pasibaigti '*.jpg|*.png|*.gif|*.svg|*.ico|'  "),L(Object(m.a)(Object(m.a)({},k),{},{image:!1}))),!1):("id_name"===t.id?(t.setCustomValidity(""),L(Object(m.a)(Object(m.a)({},k),{},{name:!0}))):"id_id"===t.id?(t.setCustomValidity(""),L(Object(m.a)(Object(m.a)({},k),{},{id:!0}))):"id_address"===t.id?(t.setCustomValidity(""),L(Object(m.a)(Object(m.a)({},k),{},{address:!0}))):"imageUrl"===t.id&&(t.setCustomValidity(""),L(Object(m.a)(Object(m.a)({},k),{},{image:!0}))),!0);t.setCustomValidity("B\u016btina u\u017epildyti \u0161\u012f laukel\u012f")};function V(e){var t;if("disk"===e.target.id)L(Object(m.a)(Object(m.a)({},k),{},{image:!1})),_(Object(m.a)(Object(m.a)({},P),{},(t={},Object(E.a)(t,e.target.id,!0),Object(E.a)(t,"linkUrl",!1),t)));else if("linkUrl"===e.target.id){var a;L(Object(m.a)(Object(m.a)({},k),{},{image:!0})),_(Object(m.a)(Object(m.a)({},P),{},(a={},Object(E.a)(a,e.target.id,!0),Object(E.a)(a,"disk",!1),a)))}}var G=function(e){var t=e.target.files[0];void 0!==t&&(i(Object(m.a)(Object(m.a)({},a),{},{file:t})),-1!==t.type.indexOf("image")?(s(URL.createObjectURL(t)),console.log("theFile: "+t+"\ndata: "+a.file)):s(null))};function U(){return P.disk&&null!==c?r.a.createElement("div",{className:"card mt-2",style:{width:"100%"}},r.a.createElement("img",{src:c,className:"card-img-top",alt:"Disk"})):P.linkUrl&&g&&k.image&&a.image.length>0?r.a.createElement("div",{className:"card mt-2",style:{width:"100%"}},r.a.createElement("a",{href:a.image,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:a.image,className:"card-img-top",alt:"URL"}))):void 0}return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""!==a.file||""!==a.image){var t=new FormData,n={id:a.id,name:a.name,address:a.address};if(t.append("jsonBodyData",new Blob([JSON.stringify(n)],{type:"application/json"})),P.disk)t.append("file",a.file);else if(P.linkUrl){var r=new Date,i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()+"--"+(r.getHours()+"-"+r.getMinutes()+"-"+r.getSeconds()),o=a.name+"-"+i+"."+w.type.split("/").pop();console.log("extension: ",o);var l=new File([w],o,{type:w.type});t.append("file",l)}v.a.post("".concat(f,"/api/istaigos/canteenwithimage/new"),t).then((function(e){console.log("jsonBodyData: "+JSON.stringify(n)),console.log("Status",e.status),201===e.status&&window.location.reload()})).catch((function(e){console.error(e.data)}))}else if(""===a.file){var c={id:a.id,name:a.name,address:a.address};v.a.post("".concat(f,"/api/istaigos/canteen/new"),c).then((function(e){console.log("Status",e.status),201===e.status&&window.location.reload()})).catch((function(e){console.error(e.data)}))}}},r.a.createElement("h6",{className:"py-3"},r.a.createElement("b",null,"Prid\u0117ti nauj\u0105 maitinimo \u012fstaig\u0105:")),r.a.createElement("div",{className:"form-group",style:{position:"relative",width:"95%"}},r.a.createElement("label",{htmlFor:"name"},"Pavadinimas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("p",{"data-for":"name","data-tip":"tooltip"},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"name",id:"id_name",value:a.name,onChange:I,onInvalid:M,style:a.name.length>0?k.name?{border:"1px solid lightgray"}:{border:"2px solid red"}:{border:"1px solid lightgray"},required:!0,pattern:"^[A-Z\u0104-\u017d]{1}[\\S\\s]{1,64}$",maxLength:64,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite maitinimo \u012fstaigos pavadinim\u0105"})),0===a.name.length||k.name?r.a.createElement("span",null,"\xa0"):r.a.createElement(B.a,{id:"name",effect:"solid",place:"bottom",type:"warning"},r.a.createElement("b",null,"Pavadinimas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu")),a.name.length>0?k.name?r.a.createElement("span",{className:"approvemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("span",{className:"warningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"approvemsg"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group",style:{position:"relative",width:"95%"}},r.a.createElement("label",{htmlFor:"name"},"\u012emon\u0117s kodas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("p",{"data-for":"id","data-tip":"tooltip"},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"id",id:"id_id",value:a.id,onChange:I,onInvalid:M,style:a.id.length>0?k.id?{border:"1px solid lightgray"}:{border:"2px solid red"}:{border:"1px solid lightgray"},required:!0,pattern:"^\\d{9}$",maxLength:9,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite \u012fstaigos kod\u0105"})),0===a.id.length||k.id?r.a.createElement("span",null,"\xa0"):r.a.createElement(B.a,{id:"id",effect:"solid",place:"bottom",type:"warning"},r.a.createElement("b",null,"\u012estaigos kod\u0105 sudaro 9 skaitmenys")),a.id.length>0?k.id?r.a.createElement("span",{className:"approvemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("span",{className:"warningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"approvemsg"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group",style:{position:"relative",width:"95%"}},r.a.createElement("label",{htmlFor:"name"},"Adresas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("p",{"data-for":"address","data-tip":"tooltip"},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"address",id:"id_address",value:a.address,onChange:I,onInvalid:M,style:a.address.length>0?k.address?{border:"1px solid lightgray"}:{border:"2px solid red"}:{border:"1px solid lightgray"},required:!0,pattern:"^[A-Z\u0104-\u017d]{1}[\\S\\s]{1,64}$",maxLength:64,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite adres\u0105"})),0===a.address.length||k.address?r.a.createElement("span",null,"\xa0"):r.a.createElement(B.a,{id:"address",effect:"solid",place:"bottom",type:"warning"},r.a.createElement("b",null,"Adresas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu")),a.address.length>0?k.address?r.a.createElement("span",{className:"approvemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("span",{className:"warningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"approvemsg"}),r.a.createElement("br",null)),r.a.createElement("div",{className:"form-group",style:{position:"relative",width:"95%"}},r.a.createElement("label",{htmlFor:"flexRadioDefault"},"Prid\u0117kite maitinimo \u012fstaigos nuotrauk\u0105:"),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"takeImage",id:"disk",onChange:V}),r.a.createElement("label",{className:"form-check-label",htmlFor:"disk"},"Pasirinkti nuotrauk\u0105 i\u0161 disko..."),P.disk?r.a.createElement("div",{className:"mb-3",style:{position:"relative",width:"109%"}},r.a.createElement("input",{onChange:function(e){return G(e)},accept:"image/*",className:"form-control mt-2",type:"file",id:"formFile",style:""!==a.file?a.file.type&&-1!==a.file.type.indexOf("image")?{border:"1px solid lightgray",marginLeft:"-24px"}:{border:"2px solid red",marginLeft:"-24px"}:{border:"1px solid lightgray",marginLeft:"-24px"},required:!0}),""!==a.file?a.file.type&&-1!==a.file.type.indexOf("image")?r.a.createElement("span",{className:"imageapprovemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("span",{className:"imagewarningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"imageapprovemsg"})):r.a.createElement("span",null,"\xa0")),r.a.createElement("div",{className:"form-check"},r.a.createElement("input",{className:"form-check-input",type:"radio",name:"takeImage",id:"linkUrl",onChange:V}),r.a.createElement("label",{className:"form-check-label",htmlFor:"linkUrl"},"Paimti nuotrauk\u0105 i\u0161 nuorodos..."),P.linkUrl?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group",style:{position:"relative",width:"109%"}},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"image",id:"imageUrl",value:a.image,onChange:R,onInvalid:M,style:a.image.length>0?k.image?{border:"1px solid lightgray",marginLeft:"-24px"}:{border:"2px solid red",marginLeft:"-24px"}:{border:"1px solid lightgray",marginLeft:"-24px"},required:!0,pattern:"^https?:\\/\\/(?:[a-z0-9\\\\-]+\\.)+[a-z]{2,6}(?:\\/[^/#?]+)+\\.(?:jpe?g|gif|png|svg|ico)$","data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite maitinimo \u012fstaigos nuotraukos URL nuorod\u0105"}),0===a.image.length||k.image?r.a.createElement("span",null,"\xa0"):r.a.createElement(B.a,{id:"image",effect:"solid",place:"bottom",type:"warning"},r.a.createElement("b",null,"Netinkamas URL formatas. Turi prasid\u0117ti 'https://', o pasibaigti '*.jpg|*.png|*.gif|*.svg|*.ico|'")),a.image.length>0?k.image?g?r.a.createElement("span",{className:"imageapprovemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("img",{className:"spinner",src:$.a,alt:"Loading\u2026"}):r.a.createElement("span",{className:"imagewarningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"imageapprovemsg"}))):r.a.createElement("span",null,"\xa0"))),r.a.createElement("div",null,P.disk?U():r.a.createElement("span",null,"\xa0"),P.linkUrl?U():r.a.createElement("span",null,"\xa0")),r.a.createElement("button",{type:"submit",className:"btn btn-primary form-group float-end mt-2",id:"btnSaveKindergarten",disabled:!function(){var e=!1;return a.id.length>0&&k.id&&a.name.length>0&&k.name&&a.address.length>0&&k.address&&(e=!0),e}()},"Submit")))};var Z=function(){var e=r.a.useContext(p).setCanteenState,t=Object(n.useState)({canteensArray:[],pageSize:10,currentPage:1,totalPages:0,totalElements:0,numberOfElements:0,deleteItemIndex:0}),a=Object(u.a)(t,2),i=a[0],o=a[1];Object(n.useEffect)((function(){var e=i.pageSize,t=i.currentPage-1;t<0&&(t=0);var a="".concat(f,"/api/istaigos/allCenteensPage?page=").concat(t,"&size=").concat(e);v.a.get(a).then((function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},{canteensArray:e.data.content.map((function(e){return{id:e.id,name:e.name,address:e.address,image:e.image,menu:e.menu}})),totalPages:e.data.totalPages,totalElements:e.data.totalElements,numberOfElements:e.data.numberOfElements,currentPage:e.data.number+1,deleteItemIndex:0})})),console.log(e.data)})).catch((function(e){console.log(e.data)}))}),[i.currentPage,i.deleteItemIndex,i.pageSize]);var c=function(e){o(Object(m.a)(Object(m.a)({},i),{},{currentPage:e}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h1",null,"Maitinimo \u012fstaig\u0173 s\u0105ra\u0161as")),r.a.createElement("div",{className:"table-responsive-md"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{key:"titlepav"},r.a.createElement("th",{scope:"col"},"\u012emon\u0117s kodas"),r.a.createElement("th",{scope:"col"},"Pavadinimas"),r.a.createElement("th",{scope:"col"},"Adresas"),r.a.createElement("th",{scope:"col"},"Meniu"),r.a.createElement("th",{scope:"col"},"I\u0161trinti"))),r.a.createElement("tbody",null,i.canteensArray.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.address),r.a.createElement("td",null,null===t.menu?r.a.createElement(l.b,{className:"text-decoration-none",onClick:function(){return function(t){var a=i.canteensArray.filter((function(e){return e.id===t}));console.log("canteensArray: "+JSON.stringify(a)),e(a)}(t.id)},to:"/addMenu/".concat(t.id)},r.a.createElement("button",{id:"btnAddmenu",type:"button",className:"btn btn-outline-primary btn-sm btn-block"},"Prid\u0117ti meniu")):t.menu.name),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e=t.id,void v.a.delete("".concat(f,"/api/istaigos/canteen/delete/").concat(e)).then((function(){i.numberOfElements-1===0?c(i.currentPage-1):o(Object(m.a)(Object(m.a)({},i),{},{deleteItemIndex:e}))})).catch((function(e){console.log(e.data)}));var e},id:"btnDeleteApplication",className:"btn btn-outline-danger btn-sm btn-block"},"I\u0161trinti")))}))))),i.totalPages>1&&r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(V,{currentPage:i.currentPage,pageSize:i.pageSize,itemsCount:i.totalElements,onPageChange:function(e){return c(e)}})))},K=function(){return r.a.createElement("div",{className:"container pt-3"},r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"bg-light pb-3 col-12 col-sm-12 col-md-12 col-lg-3"},r.a.createElement(J,null)),r.a.createElement("div",{className:"col-12 col-sm-12 col-md-12 col-lg-9 pt-1"},r.a.createElement(Z,null))))};function H(){var e=r.a.useContext(d).dispatch,t=Object(c.g)();return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(a){v.a.post("".concat(f,"/logout")).then((function(a){e({type:"LOGOUT"}),t.push("/")})).catch((function(e){}))},id:"btnLogout",className:"btn btn-outline-primary"},"Atsijungti"))}var Q=function(e){return r.a.createElement("div",{className:"pb-4"},r.a.createElement("nav",{className:"navbar navbar-expand-md py-4 navbar-light bg-light"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(l.c,{className:"navbar-brand",to:"/home"},r.a.createElement("img",{className:"nav-img",src:w.a,alt:"logotipas",loading:"lazy"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ms-auto mynav1"},r.a.createElement("li",{className:"nav-item me-2"},r.a.createElement(l.c,{className:"nav-link nav1",activeClassName:"current",id:"navAdminUserList",to:"/canteen"},"Maitinimo \u012fstaigos")),r.a.createElement("li",{className:"nav-item me-2"},r.a.createElement(l.c,{className:"nav-link nav1",activeClassName:"current",id:"navAdminUserList",to:"/users"},"Naudotojai")),r.a.createElement("li",{className:"nav-item nav-item ms-2",style:{position:"absolute",right:"20px"}},r.a.createElement(H,null)))))),r.a.createElement("div",null,e.children))},X=function(){var e=Object(c.h)();return r.a.createElement("div",null,r.a.createElement("div",{className:"container pt-5"},r.a.createElement("p",{className:"ml-2"},"Puslapis adresu: ",f,e.pathname," nerastas"),r.a.createElement(l.b,{to:"/home",className:"btn btn-primary ml-2"},"Pradinis")))},ee=a(37),te=a.n(ee);function ae(){ae=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function l(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,a){return e[t]=a}}function c(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),o=new j(n||[]);return i._invoke=function(e,t,a){var n="suspendedStart";return function(r,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw i;return x()}for(a.method=r,a.arg=i;;){var o=a.delegate;if(o){var l=E(o,a);if(l){if(l===u)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var c=s(e,t,a);if("normal"===c.type){if(n=a.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:a.done}}"throw"===c.type&&(n="completed",a.method="throw",a.arg=c.arg)}}}(e,a,o),i}function s(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var u={};function m(){}function d(){}function p(){}var f={};l(f,r,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&a.call(g,r)&&(f=g);var v=p.prototype=m.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var n;this._invoke=function(r,i){function o(){return new t((function(n,o){!function n(r,i,o,l){var c=s(e[r],e,i);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(m).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,l)}))}l(c.arg)}(r,i,n,o)}))}return n=n?n.then(o,o):o()}}function E(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return d.prototype=p,l(v,"constructor",p),l(p,"constructor",d),d.displayName=l(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),l(b.prototype,i,(function(){return this})),e.AsyncIterator=b,e.async=function(t,a,n,r,i){void 0===i&&(i=Promise);var o=new b(c(t,a,n,r),i);return e.isGeneratorFunction(a)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),l(v,o,"Generator"),l(v,r,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),w(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;w(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:O(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}var ne=function(){var e=r.a.useContext(p).canteenState,t=Object(n.useState)({id:"",name:"",address:"",image:"",menuName:""}),a=Object(u.a)(t,2),i=a[0],o=a[1],c=Object(n.useState)({id:"",name:"",address:"",menuName:""}),s=Object(u.a)(c,2),d=s[0],g=s[1],y=Object(n.useState)(!1),b=Object(u.a)(y,2),N=b[0],w=b[1],j=Object(n.useState)({menuName:"",dishName:"",description:"",drawMenu:!1}),O=Object(u.a)(j,2),x=O[0],k=O[1],L=Object(n.useState)({menuName:!0,dishName:!0,description:!0}),C=Object(u.a)(L,2),S=C[0],P=C[1],_=function(e){I(e),k(Object(m.a)(Object(m.a)({},x),{},Object(E.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){console.log("useEffect context canteenState output: ",e)}),[e]);var I=function(e){var t=e.target;if("description"===t.id&&(e.target.value.match(/^[A-Z\u0104-\u017d]{1}[\S\s]{1,255}$/)?(t.setCustomValidity(""),P(Object(m.a)(Object(m.a)({},S),{},{description:!0}))):(t.setCustomValidity("Apra\u0161ymas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu"),P(Object(m.a)(Object(m.a)({},S),{},{description:!1})))),!t.validity.valueMissing)return t.validity.patternMismatch?("id_name"===t.id?(t.setCustomValidity("Pavadinimas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu"),P(Object(m.a)(Object(m.a)({},S),{},{menuName:!1}))):"id_dishName"===t.id&&(t.setCustomValidity("Pavadinimas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu"),P(Object(m.a)(Object(m.a)({},S),{},{dishName:!1}))),!1):("id_name"===t.id?(t.setCustomValidity(""),P(Object(m.a)(Object(m.a)({},S),{},{menuName:!0}))):"id_dishName"===t.id&&(t.setCustomValidity(""),P(Object(m.a)(Object(m.a)({},S),{},{dishName:!0}))),!0);t.setCustomValidity("B\u016btina u\u017epildyti \u0161\u012f laukel\u012f")};function R(){var e=!1;return x.menuName.length>0&&S.menuName&&(e=!0),e}var M,V=function(t){t.preventDefault();var a=null;e.map((function(e){return a=e.id}));var n={canteenId:a,name:x.menuName};v.a.post("".concat(f,"/api/menu/new"),n).then((function(e){201===e.status&&G(n.canteenId)})).catch((function(e){console.error(e.data)}))},G=function(){var e=Object(h.a)(ae().mark((function e(t){var a,n;return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Starting getCanteenEntity with id: %d",t),e.prev=1,e.next=4,v.a.get("".concat(f,"/api/istaigos/canteen/").concat(t));case 4:a=e.sent,n=a.data,console.log("response.data: ",n),k(Object(m.a)(Object(m.a)({},x),{},{menuName:n.menu.name})),o(Object(m.a)(Object(m.a)({},i),{},{id:n.id,name:n.name,address:n.address,image:n.image,menuName:n.menu.name})),g(Object(m.a)(Object(m.a)({},d),{},{id:n.id,name:n.name,address:n.address,menuName:n.menu.name})),w(!0),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();function U(e){e.preventDefault(),v.a.delete("".concat(f,"/api/menu/delete/").concat(e)).then((function(t){200===t.status&&(console.log("deleted: ",e),w(!1),k(Object(m.a)(Object(m.a)({},x),{},{menuName:""})),o(Object(m.a)(Object(m.a)({},d),{},{menuName:""})),g(Object(m.a)(Object(m.a)({},d),{},{menuName:""})))})).catch((function(e){console.error(e.data)}))}return r.a.createElement("div",{className:"container pt-4"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9 col-md-6 col-lg-9"},r.a.createElement("h3",null,"Prid\u0117ti meniu"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{key:"id"},r.a.createElement("th",{key:"id",scope:"col"},"\u012emon\u0117s kodas"),r.a.createElement("th",{key:"name",scope:"col"},"Pavadinimas"),r.a.createElement("th",{key:"address",scope:"col"},"Adresas"),r.a.createElement("th",{key:"menu",scope:"col"},"Meniu"))),r.a.createElement("tbody",null,!1===N?e.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){x.drawMenu?k(Object(m.a)(Object(m.a)({},x),{},{drawMenu:!1})):k(Object(m.a)(Object(m.a)({},x),{},{drawMenu:!0}))},id:"btnAddmenu",className:"btn btn-secondary btn-sm btn-block"},"Prid\u0117ti Meniu...")))})):r.a.createElement("tr",{key:"id"},Object.keys(d).map((function(e){return r.a.createElement("td",null,d[e])}))))),!1===N?(M=e,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-sm-4 col-md-4 col-lg-4 py-3",onSubmit:V},r.a.createElement("h4",null,"\u012ed\u0117kite meniu maitinimo \u012fstaigai - ",M.map((function(e){return e.name}))),r.a.createElement("div",{className:"form-group",style:{position:"relative"}},r.a.createElement("label",{htmlFor:"name"},"Meniu pavadinimas ",r.a.createElement("span",{className:"fieldRequired"},"*")),r.a.createElement("p",{"data-for":"name","data-tip":"tooltip"},r.a.createElement("input",{type:"text",className:"form-control mt-2",name:"menuName",id:"id_name",value:x.menuName,onChange:_,onInvalid:I,style:x.menuName.length>0?S.menuName?{border:"1px solid lightgray"}:{border:"2px solid red"}:{border:"1px solid lightgray"},required:!0,pattern:"^[A-Z\u0104-\u017d]{1}[\\S\\s]{1,64}$",maxLength:64,"data-toggle":"tooltip","data-placement":"top",title:"\u012eveskite meniu pavadinim\u0105"})),0===x.menuName.length||S.menuName?r.a.createElement("span",null,"\xa0"):r.a.createElement(B.a,{id:"name",effect:"solid",place:"bottom",type:"warning"},r.a.createElement("b",null,"Meniu pavadinimas turi prasid\u0117ti did\u017ei\u0105ja raide, b\u016bti nuo 2 iki 64 simboli\u0173 ir negali prasid\u0117ti tarpu")),x.menuName.length>0?S.menuName?r.a.createElement("span",{className:"approvemsg"},r.a.createElement(F.a,{icon:A.a})):r.a.createElement("span",{className:"warningmsg"},r.a.createElement(F.a,{icon:A.c})):r.a.createElement("span",{className:"approvemsg"}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary form-group float-end ",id:"btnCheckCanteenField",disabled:!R()},"Submit")))))):function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-sm-4 col-md-4 col-lg-4 py-3"},r.a.createElement("h4",null,"Matinimo \u012fstaiga - ",e.name),r.a.createElement("h4",null,"Meniu pavadinimas - ",e.menuName),r.a.createElement("div",{className:"form-group",style:{position:"relative"}},r.a.createElement("button",{type:"submit",className:"btn btn-outline-danger form-group float-end ",id:"btnDeletemenu",onClick:function(){return U(e.id)}},"Delete")))))}(d)),r.a.createElement("div",{className:"col-sm-3 col-md-6 col-lg-3",style:{backgroundColor:"#eeeeee",textAlign:"center"}},r.a.createElement("h4",null,"Maitinimo \u012fstaigos atvaizdavimas klientui:"),r.a.createElement("br",null),!1===N?e.map((function(e){return r.a.createElement("div",{key:e.id,className:"card",style:{width:"100%"}},r.a.createElement("img",{src:null!==e.image?"data:image/*;base64,".concat(e.image):te.a,className:"card-img-top",alt:"Failed To Load"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.address),r.a.createElement("p",{className:"card-text"},e.menu)))})):r.a.createElement("div",{key:552,className:"card",style:{width:"100%"}},r.a.createElement("img",{src:null!==i.image?"data:image/*;base64,".concat(i.image):te.a,className:"card-img-top",alt:"Failed To Load"}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},i.name),r.a.createElement("p",{className:"card-text"},i.address),r.a.createElement("p",{className:"card-text"},i.menuName))))),r.a.createElement("div",{className:"row pt-4"}),r.a.createElement(l.b,{className:"text-decoration-none",type:"button",to:"/canteen"},r.a.createElement("button",{className:"btn btn-outline-primary"},"Atgal")))},re={isAuthenticated:null,username:null,role:null,error:null},ie=function(e,t){switch(t.type){case"LOGIN":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!0,username:t.payload.username,role:t.payload.role,error:null});case"LOGOUT":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!1,username:null,role:null,error:null});case"ERROR":return Object(m.a)(Object(m.a)({},e),{},{isAuthenticated:!1,username:null,role:null,error:t.payload});default:return e}};var oe=function(){var e=Object(n.useReducer)(ie,re),t=Object(u.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)([]),s=Object(u.a)(o,2),m=s[0],h=s[1];Object(n.useEffect)((function(){null===a.isAuthenticated&&v.a.get("".concat(f,"/api/loggedUserRole")).then((function(e){i({type:"LOGIN",payload:{role:e.data}})})).catch((function(e){!(e.response&&e.response.status>=400&&e.response.status<500)||e.response&&404===e.response.status?(alert("\u012evyko klaida, puslapis nurodytu adresu nepasiekiamas"),i({type:"ERROR"})):i({type:"ERROR",payload:e.response.status})}))}),[a.isAuthenticated]);var g=Object(c.h)();if(a.isAuthenticated)switch(a.role){case"ADMIN":return r.a.createElement(d.Provider,{value:{state:a,dispatch:i}},r.a.createElement(p.Provider,{value:{canteenState:m,setCanteenState:h}},r.a.createElement(b,null,r.a.createElement("div",{className:"container-fluid px-0"},r.a.createElement(Q,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:K}),r.a.createElement(c.b,{exact:!0,path:"/home",component:K}),r.a.createElement(c.b,{exact:!0,path:"/users",component:q}),r.a.createElement(c.b,{exact:!0,path:"/canteen",component:K}),r.a.createElement(c.b,{exact:!0,path:"/addMenu/:id",component:ne}),r.a.createElement(c.b,{path:"*",component:X})))))));case"USER":return r.a.createElement("div",null,r.a.createElement("h1",null,"Useris"));default:return r.a.createElement("div",{className:"container pt-5"},r.a.createElement("p",{className:"ml-2"},"Puslapis adresu: ",f,g.pathname," nerastas"),r.a.createElement(l.b,{to:"/home",className:"btn btn-primary ml-2"},"Pradinis"))}else if(!1===a.isAuthenticated)return r.a.createElement("div",null,r.a.createElement(d.Provider,{value:{state:a,dispatch:i}},r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/login",component:O}),r.a.createElement(c.b,{path:"*"},r.a.createElement(c.a,{to:"/login"})))))},le=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,101)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(l.a,{basename:"/Maitinimas"},r.a.createElement(c.d,null,r.a.createElement(s.a,{injectFirst:!0},r.a.createElement(c.b,{path:"*",component:oe}))))),le()}},[[54,1,2]]]);
//# sourceMappingURL=main.6480b2dc.chunk.js.map